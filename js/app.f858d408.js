(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var a={},s={app:0},n=[];function r(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=a,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/ShopMaketVue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0354":function(t,e,i){"use strict";var a=i("5e80"),s=i.n(a);s.a},"077c":function(t,e,i){"use strict";var a=i("9de6"),s=i.n(a);s.a},"0efb":function(t,e,i){},"0f05":function(t,e,i){"use strict";var a=i("7e2a"),s=i.n(a);s.a},"20a1":function(t,e,i){},3841:function(t,e,i){t.exports=i.p+"img/img-default-basket.4b8256d5.jpg"},"4b64":function(t,e,i){"use strict";var a=i("0efb"),s=i.n(a);s.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"overflow-hidden":this.modalVisibility||this.modalThankVisibility},attrs:{id:"app"}},[i("div",{staticClass:"container"},[i("Modal",{attrs:{"visibility-modal":t.modalVisibility,API:t.API},on:{"toggle-modal":t.toggleModal}}),i("Header",{attrs:{basketVisibility:t.basketVisibility,modalVisibility:t.modalVisibility},on:{"toggle-vb":t.toggleVB,"toggle-modal":t.toggleModal,"search-text":t.searchText}}),i("main",[i("Products",{attrs:{products:t.filtered},on:{"add-product":t.addProduct}}),i("Basket",{attrs:{basketItems:t.basketItems,"visibility-basket":t.basketVisibility},on:{remove:t.remove,"make-order":t.makeOrder}})],1)],1)])},n=[],r=(i("4de4"),i("7db0"),i("c975"),i("a434"),i("d3b7"),i("4d63"),i("ac1f"),i("25f0"),i("2909")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"header"},[t._m(0),i("div",{staticClass:"rigth-wrapper"},[i("button",{staticClass:"btn-main btn-modal",on:{click:t.toggleModalVisibility}},[t._v(" To contact us ")]),i("Search"),i("button",{staticClass:"btn-main btn-basket",on:{click:t.toggleBasketVisibility}},[t._v(" Basket ")])],1)])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left-wrapper"},[a("a",{staticClass:"header-link",attrs:{href:"#"}},[a("img",{staticClass:"header-logo",attrs:{src:i("cf05"),alt:"logo"}})])])}],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("form",{staticClass:"search-form",attrs:{action:"#"}},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value.trim())},function(e){return t.$parent.$emit("search-text",t.search)}],blur:function(e){return t.$forceUpdate()}}}),i("button",{staticClass:"btn-search",attrs:{type:"submit"},on:{click:function(e){return t.$parent.$emit("search-text",t.search)}}})])])},u=[],d={name:"Search",data:function(){return{search:""}}},m=d,p=(i("0354"),i("2877")),f=Object(p["a"])(m,l,u,!1,null,"69570e0c",null),h=f.exports,b={name:"Header",props:["basketVisibility","modalVisibility"],components:{Search:h},methods:{toggleBasketVisibility:function(t){this.$emit("toggle-vb",t)},toggleModalVisibility:function(t){this.$emit("toggle-modal",t)}}},v=b,g=(i("4b64"),Object(p["a"])(v,o,c,!1,null,"10042a11",null)),k=g.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"products"},t._l(t.products,(function(t){return i("Product",{key:t.id,attrs:{product:t}})})),1)},y=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product"},[a("h3",{staticClass:"product-title"},[t._v(t._s(t.product.title))]),a("img",{staticClass:"product-img",attrs:{alt:t.product.title,src:i("ffb8")}}),a("p",{staticClass:"product-price"},[t._v("Price: "+t._s(t.product.price)+" $")]),a("button",{staticClass:" btn-main product-btn",on:{click:function(e){return t.addProduct(t.product)}}},[t._v(" Buy ")])])},C=[],P={name:"Product",props:["product"],methods:{addProduct:function(t){this.$parent.$emit("add-product",t)}}},w=P,x=(i("6d61"),Object(p["a"])(w,_,C,!1,null,"4e25c5bc",null)),O=x.exports,j={name:"Products",props:["products"],components:{Product:O},data:function(){return{basketItems:[]}}},I=j,V=(i("0f05"),Object(p["a"])(I,$,y,!1,null,"11fdf231",null)),M=V.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.visibilityBasket,expression:"visibilityBasket"}],staticClass:"basket"},[0==t.basketItems.length?[i("div",{staticClass:"empty"},[t._v("Your basket is empty")])]:[t._l(t.basketItems,(function(t){return i("BasketItem",{key:t.id,attrs:{basketItem:t}})})),i("div",{staticClass:"basket-price"},[t._v(" Total: "),i("span",[t._v(t._s(t.allCost)+" $ ")])]),i("button",{staticClass:"btn-main basket-btn",on:{click:function(e){return t.$emit("make-order",t.allCost)}}},[t._v(" Make an order ")])]],2)},T=[],B=(i("13d5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart-item"},[a("div",{staticClass:"basket-product"},[a("div",{staticClass:"left-block"},[a("p",{staticClass:"basket-product-title"},[t._v(t._s(t.basketItem.title))]),a("img",{staticClass:"basket-img",attrs:{src:i("3841"),alt:"Some img"}}),a("p",{staticClass:"product-count"},[t._v("Quantity : "+t._s(t.basketItem.count))]),a("p",{staticClass:"product-single-price"},[t._v("Price "+t._s(t.basketItem.price)+" $")])]),a("div",{staticClass:"right-block"},[a("button",{staticClass:"delete-btn",on:{click:function(e){return t.$parent.$emit("remove",t.basketItem)}}},[t._v(" × ")]),a("p",[t._v("Total price:")]),a("p",{staticClass:"product-price"},[t._v(t._s(t.basketItem.count*t.basketItem.price)+" $")])])])])}),E=[],q={name:"BasketItem",props:["basketItem"]},N=q,z=(i("9850"),Object(p["a"])(N,B,E,!1,null,"65342501",null)),A=z.exports,D={name:"Basket",props:["basketItems","visibilityBasket"],components:{BasketItem:A},computed:{allCost:function(){return this.basketItems.reduce((function(t,e){return t+e.count*e.price}),0)}}},U=D,J=(i("077c"),Object(p["a"])(U,S,T,!1,null,"93cfc638",null)),L=J.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visibilityModal?i("div",{staticClass:"feedback-modal",on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleMD(e)}}},[i("div",{staticClass:"feedback-modal-container"},[t.showPreloader?[i("Preloader")]:t._e(),t.thanksVisibility?[t._m(0)]:[i("button",{staticClass:"delete-btn modal-close-btn",on:{click:t.toggleMD}},[t._v(" × ")]),i("form",{staticClass:"feedback-form",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.sendData(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.name.$model,expression:"$v.name.$model",modifiers:{trim:!0}}],staticClass:"feedback-input",class:{"input-error":t.$v.name.$error},attrs:{placeholder:"Name",name:"name",type:"text"},domProps:{value:t.$v.name.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.name,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.name.$error?i("span",{staticClass:"error"},[t.$v.name.minLength?t.$v.name.alpha?[t._v(" Required field ")]:[t._v(" Name must contain only letters ")]:[t._v(" The name must be no less "+t._s(t.$v.name.$params.minLength.min)+" letters. ")]],2):t._e(),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.phone.$model,expression:"$v.phone.$model",modifiers:{trim:!0}}],staticClass:"feedback-input",class:{"input-error":t.$v.phone.$error},attrs:{placeholder:"Phone in format +7(000)000-00-00",name:"phone",type:"phone"},domProps:{value:t.$v.phone.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.phone,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.phone.$error?i("span",{staticClass:"error"},[t.$v.phone.valid?[t._v(" Required field ")]:[t._v(" Phone must be in format +7(000)000-00-00 ")]],2):t._e(),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0}}],staticClass:"feedback-input",class:{"input-error":t.$v.email.$error},attrs:{required:"",placeholder:"E-mail",name:"email",type:"e-mail"},domProps:{value:t.$v.email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.email,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.email.$error?i("span",{staticClass:"error"},[t.$v.email.email?[t._v(" Required field ")]:[t._v(" Enter valid e-mail ")]],2):t._e(),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"feedback-text",attrs:{placeholder:"Your message",name:"message",id:"message",cols:"30",rows:"5"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),i("button",{staticClass:"btn-main btn-feedback",attrs:{disabled:t.$v.$invalid}},[t._v(" Contact with me ")])])]],2)]):t._e()},H=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"thank-wrapper"},[i("span",{staticClass:"thank-title"},[t._v(" Thank! We will contact you shortly! ")])])}],F=(i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preloader"},[i("svg",{staticClass:"preloader__image",attrs:{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}})])])}),Y=[],Q={name:"Preloader"},W=Q,G=(i("ec20"),Object(p["a"])(W,F,Y,!1,null,"0a5720cd",null)),K=G.exports,X=i("b5ae"),Z={name:"Modal",props:["visibilityModal","API"],components:{Preloader:K},data:function(){return{id:Math.round(1e9*Math.random()),name:"",phone:"",email:"",message:"",showPreloader:!1,thanksVisibility:!1,user:{}}},validations:{name:{required:X["required"],minLength:Object(X["minLength"])(2),alpha:function(t){return/^[а-яёa-z]*$/i.test(t)}},phone:{required:X["required"],validFormat:function(t){return/^\+7+\(+\d{3}\)+\d{3}-\d{2}-\d{2}$/.test(t)}},email:{required:X["required"],email:X["email"]}},methods:{newForm:function(){return this.modalState=Object.assign({},this.modalDefaultState),this.modalState},toggleMD:function(t){this.$emit("toggle-modal",t)},createUser:function(){return this.user.id=this.id,this.user.name=this.name,this.user.phone=this.phone,this.user.email=this.email,this.user.message=this.message,this.user},showThank:function(){var t=this;this.thanksVisibility=!0,setTimeout((function(){t.toggleMD(t.visibilityModal),t.thanksVisibility=!1}),1500)},sendData:function(t){var e=this;this.showPreloader=!0,fetch("".concat(this.API,"/users"),{method:"POST",body:JSON.stringify(this.createUser()),headers:{"Content-type":"application/json"}}).then((function(t){return t.json()})).then((function(e){t.target.reset(),console.log(e)})).catch((function(t){return console.log(t)})).finally((function(){e.showPreloader=!1,e.showThank()}))}}},tt=Z,et=(i("db4d"),Object(p["a"])(tt,R,H,!1,null,"6d4c2cf2",null)),it=et.exports,at={name:"App",components:{Header:k,Products:M,Basket:L,Modal:it},data:function(){return{API:"https://my-json-server.typicode.com/Selestina84/ShopMaketVue",products:[],filtered:[],basketItems:[],basketVisibility:!1,modalVisibility:!1,modalThankVisibility:!1,search:""}},methods:{_getJson:function(t){return fetch(t).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},toggleVB:function(){this.basketVisibility=!this.basketVisibility},toggleModal:function(){this.modalVisibility=!this.modalVisibility},searchText:function(t){var e=new RegExp(t,"i");this.filtered=this.products.filter((function(t){return e.test(t.title)}))},addProduct:function(t){var e=this.basketItems.find((function(e){return e.id===t.id}));if(e)e.count++;else{var i=Object.assign({count:1},t);this.basketItems.push(i)}},remove:function(t){t.count>1?t.count--:this.basketItems.splice(this.basketItems.indexOf(t),1)},createOrder:function(t){return Object.assign({},this.basketItems,{finallyPrice:t})},makeOrder:function(t){var e=this;fetch("".concat(this.baseURL,"/basket"),{method:"POST",body:JSON.stringify(this.createOrder(t)),headers:{"Content-type":"application/json"}}).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch((function(t){return console.log(t)})).finally((function(){e.basketItems=[],e.basketVisibility=!1}))}},mounted:function(){var t=this;console.log(this.API),this._getJson("".concat(this.API,"/products")).then((function(e){t.products=Object(r["a"])(e),t.filtered=Object(r["a"])(e)}))}},st=at,nt=(i("cf25"),Object(p["a"])(st,s,n,!1,null,null,null)),rt=nt.exports,ot=i("1dce"),ct=i.n(ot);a["a"].use(ct.a),a["a"].config.productionTip=!0,new a["a"]({render:function(t){return t(rt)}}).$mount("#app")},"5e80":function(t,e,i){},"6d61":function(t,e,i){"use strict";var a=i("8abd"),s=i.n(a);s.a},"7e2a":function(t,e,i){},"8abd":function(t,e,i){},9850:function(t,e,i){"use strict";var a=i("20a1"),s=i.n(a);s.a},9863:function(t,e,i){},"9de6":function(t,e,i){},a793:function(t,e,i){},cf05:function(t,e,i){t.exports=i.p+"img/logo.9d431225.png"},cf25:function(t,e,i){"use strict";var a=i("fea6"),s=i.n(a);s.a},db4d:function(t,e,i){"use strict";var a=i("9863"),s=i.n(a);s.a},ec20:function(t,e,i){"use strict";var a=i("a793"),s=i.n(a);s.a},fea6:function(t,e,i){},ffb8:function(t,e,i){t.exports=i.p+"img/img-default.eadba4ef.jpg"}});
//# sourceMappingURL=app.f858d408.js.map