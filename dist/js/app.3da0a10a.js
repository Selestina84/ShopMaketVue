(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},s={app:0},n=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"030d":function(t,e,a){"use strict";var i=a("babf"),s=a.n(i);s.a},"0354":function(t,e,a){"use strict";var i=a("5e80"),s=a.n(i);s.a},"0f05":function(t,e,a){"use strict";var i=a("7e2a"),s=a.n(i);s.a},"1f39":function(t,e,a){},"2f8a":function(t,e,a){"use strict";var i=a("ad54"),s=a.n(i);s.a},3841:function(t,e,a){t.exports=a.p+"img/img-default-basket.4b8256d5.jpg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"overflow-hidden":this.modalVisibility||this.modalThankVisibility},attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("Modal",{attrs:{"visibility-modal":t.modalVisibility,API:t.API},on:{"toggle-modal":t.toggleModal}}),a("Header",{attrs:{basketVisibility:t.basketVisibility,modalVisibility:t.modalVisibility},on:{"toggle-vb":t.toggleVB,"toggle-modal":t.toggleModal,"search-text":t.searchText}}),a("main",[a("Products",{attrs:{products:t.filtered},on:{"add-product":t.addProduct}}),a("Basket",{attrs:{basketItems:t.basketItems,"visibility-basket":t.basketVisibility},on:{remove:t.remove,"make-order":t.makeOrder}})],1)],1)])},n=[],r=(a("4de4"),a("7db0"),a("c975"),a("a434"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("2909")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[t._m(0),a("div",{staticClass:"rigth-wrapper"},[a("button",{staticClass:"btn-main btn-modal",on:{click:t.toggleModalVisibility}},[t._v(" Связаться с нами ")]),a("Search"),a("button",{staticClass:"btn-main btn-basket",on:{click:t.toggleBasketVisibility}},[t._v(" Корзина ")])],1)])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left-wrapper"},[i("a",{staticClass:"header-link",attrs:{href:"#"}},[i("img",{staticClass:"header-logo",attrs:{src:a("cf05"),alt:"logo"}})])])}],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("form",{staticClass:"search-form",attrs:{action:"#"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value.trim())},function(e){return t.$parent.$emit("search-text",t.search)}],blur:function(e){return t.$forceUpdate()}}}),a("button",{staticClass:"btn-search",attrs:{type:"submit"},on:{click:function(e){return t.$parent.$emit("search-text",t.search)}}})])])},u=[],d={name:"Search",data:function(){return{search:""}}},m=d,p=(a("0354"),a("2877")),f=Object(p["a"])(m,l,u,!1,null,"69570e0c",null),h=f.exports,b={name:"Header",props:["basketVisibility","modalVisibility"],components:{Search:h},methods:{toggleBasketVisibility:function(t){this.$emit("toggle-vb",t)},toggleModalVisibility:function(t){this.$emit("toggle-modal",t)}}},v=b,g=(a("2f8a"),Object(p["a"])(v,o,c,!1,null,"2d333fc0",null)),k=g.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products"},t._l(t.products,(function(t){return a("Product",{key:t.id,attrs:{product:t}})})),1)},_=[],y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product"},[i("h3",{staticClass:"product-title"},[t._v(t._s(t.product.title))]),i("img",{staticClass:"product-img",attrs:{alt:t.product.title,src:a("ffb8")}}),i("p",{staticClass:"product-price"},[t._v("Цена: "+t._s(t.product.price)+" $")]),i("button",{staticClass:" btn-main product-btn",on:{click:function(e){return t.addProduct(t.product)}}},[t._v(" Купить ")])])},C=[],P={name:"Product",props:["product"],methods:{addProduct:function(t){this.$parent.$emit("add-product",t)}}},w=P,x=(a("9693"),Object(p["a"])(w,y,C,!1,null,"b857e82c",null)),O=x.exports,j={name:"Products",props:["products"],components:{Product:O},data:function(){return{basketItems:[]}}},I=j,V=(a("0f05"),Object(p["a"])(I,$,_,!1,null,"11fdf231",null)),M=V.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.visibilityBasket,expression:"visibilityBasket"}],staticClass:"basket"},[0==t.basketItems.length?[a("div",{staticClass:"empty"},[t._v("Ваша корзина пуста")])]:[t._l(t.basketItems,(function(t){return a("BasketItem",{key:t.id,attrs:{basketItem:t}})})),a("div",{staticClass:"basket-price"},[t._v(" Итого: "),a("span",[t._v(t._s(t.allCost)+" $ ")])]),a("button",{staticClass:"btn-main basket-btn",on:{click:function(e){return t.$emit("make-order",t.allCost)}}},[t._v(" Оформить заказ ")])]],2)},B=[],T=(a("13d5"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cart-item"},[i("div",{staticClass:"basket-product"},[i("div",{staticClass:"left-block"},[i("p",{staticClass:"basket-product-title"},[t._v(t._s(t.basketItem.title))]),i("img",{staticClass:"basket-img",attrs:{src:a("3841"),alt:"Some img"}}),i("p",{staticClass:"product-count"},[t._v("Кол-во: "+t._s(t.basketItem.count))]),i("p",{staticClass:"product-single-price"},[t._v("Цена "+t._s(t.basketItem.price)+" $")])]),i("div",{staticClass:"right-block"},[i("button",{staticClass:"delete-btn",on:{click:function(e){return t.$parent.$emit("remove",t.basketItem)}}},[t._v(" × ")]),i("p",[t._v("Общая цена:")]),i("p",{staticClass:"product-price"},[t._v(t._s(t.basketItem.count*t.basketItem.price)+" $")])])])])}),E=[],z={name:"BasketItem",props:["basketItem"]},A=z,D=(a("6295"),Object(p["a"])(A,T,E,!1,null,"2c2f9768",null)),N=D.exports,q={name:"Basket",props:["basketItems","visibilityBasket"],components:{BasketItem:N},computed:{allCost:function(){return this.basketItems.reduce((function(t,e){return t+e.count*e.price}),0)}}},J=q,U=(a("8b2e"),Object(p["a"])(J,S,B,!1,null,"2f7bac05",null)),L=U.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visibilityModal?a("div",{staticClass:"feedback-modal",on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleMD(e)}}},[a("div",{staticClass:"feedback-modal-container"},[t.showPreloader?[a("Preloader")]:t._e(),t.thanksVisibility?[t._m(0)]:[a("button",{staticClass:"delete-btn modal-close-btn",on:{click:t.toggleMD}},[t._v(" × ")]),a("form",{staticClass:"feedback-form",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.sendData(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.name.$model,expression:"$v.name.$model",modifiers:{trim:!0}}],staticClass:"feedback-input",class:{"input-error":t.$v.name.$error},attrs:{placeholder:"Ваше имя",name:"name",type:"text"},domProps:{value:t.$v.name.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.name,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.name.$error?a("span",{staticClass:"error"},[t.$v.name.minLength?t.$v.name.alpha?[t._v(" Поле обязательно для заполнения ")]:[t._v(" Имя должно содержать только буквы ")]:[t._v(" В имени должно быть не меньше "+t._s(t.$v.name.$params.minLength.min)+" букв. ")]],2):t._e(),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.phone.$model,expression:"$v.phone.$model",modifiers:{trim:!0}}],staticClass:"feedback-input",class:{"input-error":t.$v.phone.$error},attrs:{placeholder:"Ваш номер телефона в формате +7(000)000-00-00",name:"phone",type:"phone"},domProps:{value:t.$v.phone.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.phone,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.phone.$error?a("span",{staticClass:"error"},[t.$v.phone.valid?[t._v(" Поле обязательно для заполнения ")]:[t._v(" Телефон должен быть в формате +7(000)000-00-00 ")]],2):t._e(),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0}}],staticClass:"feedback-input",class:{"input-error":t.$v.email.$error},attrs:{required:"",placeholder:"Ваш e-mail",name:"email",type:"e-mail"},domProps:{value:t.$v.email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.email,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.email.$error?a("span",{staticClass:"error"},[t.$v.email.email?[t._v(" Поле обязательно для заполнения ")]:[t._v(" Введите действующий e-mail ")]],2):t._e(),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"feedback-text",attrs:{placeholder:"Ваше сообщение",name:"message",id:"message",cols:"30",rows:"5"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),a("button",{staticClass:"btn-main btn-feedback",attrs:{disabled:t.$v.$invalid}},[t._v(" Связаться со мной ")])])]],2)]):t._e()},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"thank-wrapper"},[a("span",{staticClass:"thank-title"},[t._v(" Спасибо! Мы свяжемся с вами в ближайшее время! ")])])}],R=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preloader"},[a("svg",{staticClass:"preloader__image",attrs:{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}})])])}),G=[],K={name:"Preloader"},Q=K,W=(a("ec20"),Object(p["a"])(Q,R,G,!1,null,"0a5720cd",null)),X=W.exports,Y=a("b5ae"),Z={name:"Modal",props:["visibilityModal","API"],components:{Preloader:X},data:function(){return{id:Math.round(1e9*Math.random()),name:"",phone:"",email:"",message:"",showPreloader:!1,thanksVisibility:!1,user:{}}},validations:{name:{required:Y["required"],minLength:Object(Y["minLength"])(2),alpha:function(t){return/^[а-яёa-z]*$/i.test(t)}},phone:{required:Y["required"],validFormat:function(t){return/^\+7+\(+\d{3}\)+\d{3}-\d{2}-\d{2}$/.test(t)}},email:{required:Y["required"],email:Y["email"]}},methods:{newForm:function(){return this.modalState=Object.assign({},this.modalDefaultState),this.modalState},toggleMD:function(t){this.$emit("toggle-modal",t)},createUser:function(){return this.user.id=this.id,this.user.name=this.name,this.user.phone=this.phone,this.user.email=this.email,this.user.message=this.message,this.user},showThank:function(){var t=this;this.thanksVisibility=!0,setTimeout((function(){t.toggleMD(t.visibilityModal),t.thanksVisibility=!1}),1500)},sendData:function(t){var e=this;this.showPreloader=!0,fetch("".concat(this.API,"/users"),{method:"POST",body:JSON.stringify(this.createUser()),headers:{"Content-type":"application/json"}}).then((function(t){return t.json()})).then((function(e){t.target.reset(),console.log(e)})).catch((function(t){return console.log(t)})).finally((function(){e.showPreloader=!1,e.showThank()}))}}},tt=Z,et=(a("030d"),Object(p["a"])(tt,H,F,!1,null,"815f65ba",null)),at=et.exports,it={name:"App",components:{Header:k,Products:M,Basket:L,Modal:at},data:function(){return{API:"http://my-json-server.typicode.com/Selestina84/ShopMaketVue",products:[],filtered:[],basketItems:[],basketVisibility:!1,modalVisibility:!1,modalThankVisibility:!1,search:""}},methods:{_getJson:function(t){return fetch(t).then((function(t){return t.json()})).catch((function(t){return console.log(t)}))},toggleVB:function(){this.basketVisibility=!this.basketVisibility},toggleModal:function(){this.modalVisibility=!this.modalVisibility},searchText:function(t){var e=new RegExp(t,"i");this.filtered=this.products.filter((function(t){return e.test(t.title)}))},addProduct:function(t){var e=this.basketItems.find((function(e){return e.id===t.id}));if(e)e.count++;else{var a=Object.assign({count:1},t);this.basketItems.push(a)}},remove:function(t){t.count>1?t.count--:this.basketItems.splice(this.basketItems.indexOf(t),1)},createOrder:function(t){return Object.assign({},this.basketItems,{finallyPrice:t})},makeOrder:function(t){var e=this;fetch("".concat(this.API,"/basket"),{method:"POST",body:JSON.stringify(this.createOrder(t)),headers:{"Content-type":"application/json"}}).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch((function(t){return console.log(t)})).finally((function(){e.basketItems=[],e.basketVisibility=!1}))}},mounted:function(){var t=this;this._getJson("".concat(this.API,"/products")).then((function(e){t.products=Object(r["a"])(e),t.filtered=Object(r["a"])(e)}))}},st=it,nt=(a("cf25"),Object(p["a"])(st,s,n,!1,null,null,null)),rt=nt.exports,ot=a("1dce"),ct=a.n(ot);i["a"].use(ct.a),i["a"].config.productionTip=!0,new i["a"]({render:function(t){return t(rt)}}).$mount("#app")},"5e80":function(t,e,a){},6295:function(t,e,a){"use strict";var i=a("1f39"),s=a.n(i);s.a},"7e2a":function(t,e,a){},"84ca":function(t,e,a){},"8b2e":function(t,e,a){"use strict";var i=a("92ac"),s=a.n(i);s.a},"92ac":function(t,e,a){},9693:function(t,e,a){"use strict";var i=a("84ca"),s=a.n(i);s.a},a793:function(t,e,a){},ad54:function(t,e,a){},babf:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"img/logo.9d431225.png"},cf25:function(t,e,a){"use strict";var i=a("fea6"),s=a.n(i);s.a},ec20:function(t,e,a){"use strict";var i=a("a793"),s=a.n(i);s.a},fea6:function(t,e,a){},ffb8:function(t,e,a){t.exports=a.p+"img/img-default.eadba4ef.jpg"}});
//# sourceMappingURL=app.3da0a10a.js.map